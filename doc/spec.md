# 仕様

## 概要

AI x BDD によるアプリ自動生成アプリ

- ターゲットユーザー: 非エンジニアで簡単にツール開発をしたい人
- アピールポイント (既存のアプリ生成ツールとの違い):
  - 仕様を明確にし、生成されたアプリのブラックボックス化を防げる
  - テストと仕様の紐付けにより、動作保証ができる
  - テストを含んだ仕様を先に作ることで AI が生成するコードの品質も上がる (？)
  - 仕様がコンテキストとして使えるので、アプリ機能に関するお問い合わせへの回答効率も上がる (？)

## Step1

Gherkin 仕様を反映するには、「階層構造（Feature → Background → Scenario → Steps）」を視覚的に表現できる UI が必要となる。

Step1 として、以下の要件にしたがって実装を行ってください

### 実装範囲

- Gherkin の構造を表現できる GUI
- GUI から入力されたデータを元に実際の Gherkin ファイルを作成
- ファイルダウンロード

### Gherkin の階層構造（おさらい）

```text
Feature: 機能名
Background: 共通の前提条件（任意）
Given ...
And ...

Scenario: シナリオ1
Given ...
When ...
Then ...

Scenario: シナリオ2
Given ...
When ...
Then ...
```

### GUI での表現

以下の入れ子構造 を分かりやすく操作できる必要がある。

- Feature 単位で全体をまとめる
- Background（共通前提）
- Scenario のリスト（複数追加可能）
  - 各 Scenario 内には Step のリスト
  - Given
  - When
  - Then
  - And

### 簡易ワイヤーフレーム

```text
┌─────────────────────────────┐
│ 🧩 Feature 設定
│ [Feature 名: ＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿]
│ [Description: ___________________________________]
│
│ ─────────────── Background ────────────────
│ + Add Step
│ ▸ Given [______________]
│ ▸ And [______________]
│
│ ─────────────── Scenarios ────────────────
│ ⊕ Add Scenario
│
│ ▼ Scenario: 正しい情報でログインできる
│ + Add Step
│ ▸ Given [ログインページを開いている]
│ ▸ When [正しい情報を入力する]
│ ▸ Then [ホーム画面が表示される]
│
│ ▼ Scenario: 間違った情報でログインできない
│ + Add Step
│ ▸ Given [ログインページを開いている]
│ ▸ When [誤ったパスワードを入力する]
│ ▸ Then [エラーメッセージが表示される]
│
│─────────────────────────────
│ [＋ Scenarioを追加] [📝 Gherkinを生成] [💾 保存]
└─────────────────────────────┘
```

### UX メモ

| 要素                 | UX 的な意図                                             |
| -------------------- | ------------------------------------------------------- |
| カード構成           | Feature 全体を1枚のカードとして扱う（視覚的にまとまる） |
| 折りたたみ（▼ / ▸）  | Scenario ごとの詳細を展開・非表示できるようにする       |
| 「+ Add Step」ボタン | Given, When, Then, And を簡単に追加できる               |
| ドラッグ＆ドロップ   | ステップの順序を変更可能にする（後で拡張）              |

### 使用技術

- HTML / CSS
- JavaScript
- localStorage: 下書きデータの保存
- Blob: 最終データ (Gherkin ファイル) のダウンロード
